### 第04章-网际层

#### 4.3 网际协议IP

##### 4.3.2 IP寻址

IP地址是一个32位的二进制地址，一般被分为4个8位端。2^8最大为256，所以每段为0~255。平时人们习惯的IP地址表示方式即为209.121.131.14，符合规则

| 地址类  | 介绍                                         | 二进制地址前几位值 |
| ------- | -------------------------------------------- | ------------------ |
| A类地址 | 二进制地址前8位作为网络ID，后24位为主机ID    | 0                  |
| B类地址 | 二进制地址前16位作为网络ID，后16位作为主机ID | 10                 |
| C类地址 | 二级制前24位作为网络ID，后8位作为主机ID      | 110                |

A类地址以0开始，即第一个8位端是00000000～01111111，换算成10进制，即0~127，所以A类地址除了需要排除的特殊地址，都以0～127作为开头。

B、C类地址同理

##### 4.3.5 特殊的IP地址

- 全0的主机ID表示网络本身。比如129.152.0.0。按上面的说法是一个B类地址，那么129.125是网络ID，0.0则是主机ID。

- 全1的主机ID表示广播。广播是向网络中的所有主机发送的消息。129.152.255.255即为一个广播地址。255.255转换为二进制后全为1。

- 以十进制127开头的地址是环回地址。目的地址为环回地址的消息是由本地TCP/IP软件发送的，目的在于测试TCP/IP软件是否正常工作。通常的环回地址是127.0.0.0。
- 一些保留地址用于私有网络。私有地址不会用于连接到Internet，所以不要求地址是唯一的。经常用于NAT设备背后的受保护网络。

#### 4.4 地址解析协议ARP

ARP把IP地址映射到物理地址。主机必须直到目的网络适配器的物理地址才能向它发送数据。

网段上每台主机在内存中都会保存一个成为ARP表或ARP缓存的表格。ARP缓存将网段上其他主机的IP地址和物理地址关联起来。ARP缓存是动态变化的，如果缓存不存在，那么主机会发送一个名为ARP请求帧的广播。

ARP请求帧包含未解析的IP地址、发送请求的主机的IP和物理地址。网段上其他主机接收到这个请求，拥有这个未解析IP的主机会向发出请求的主机发送自己的物理地址。然后就会被添加到ARP缓存中。

#### 4.5 逆向ARP

由物理地址映射到IP地址

#### 4.6 Internet控制消息协议ICMP



