# 04章-脚本中的变量

## 4.1 变量的简单使用

### 4.1.1 变量的使用

```shell
# 等号两边不能有空格
# 变量没有类型
变量名=变量值
# 比如
num=10
```

### 4.1.2 变量的输入

变量可以在脚本中直接赋值，也可以在脚本执行过程中通过命令行间接赋值，即使用read命令

```shell
read [option] 变量名
# 比如，在执行时命令行输入10，那么num=10
read num
# 如果直接使用read后面不跟变量，那么会保存在$REPLY中
read
echo $REPLY
# 命令行输入3个值赋值给num1 num2 num3
read -p num1 num2 num3 
# 如果使用read时不设置超时时间，那么命令行不输入，就会一直等待，通过-t设置超时时间
# 超时时间设置为4秒，超时后
read -t4 num
# -n限制字符数
read -n3 num 
# -s输入不显示在命令行中，类似密码输入
read -s pwd
```

## 4.2 特殊变量的使用

- $0：脚本名称
- \$1-$9：脚本执行时输入的参数
- $#：脚本执行时输入参数的个数
- $?：脚本返回值
- $*：参数的具体内容，是一个变量
- $@：输入参数的列表

```shell
echo "脚本名称为$0"
echo "脚本参数个数$#"
echo "脚本参数具体内容为$*"
# for语句遍历输入参数
for tmpstr in $@
do
  echo $tmpstr
done
```

- $SHELL ：默认的shell类型
- $USER：用户名
- $TERM：终端类型
- $LOGNAME：当前登录的用户名
- $HOME：当前用户主目录
- $PWD：当前所在路径
- $PATH：环境变量路径

### 4.3.2 环境变量的配置文件

- /etc/profile：系统默认的配置文件，每个用户登录都需要加载
- $HOME/.bashrc：特定用户登录系统时的启动文件
- $HOME/.profile：特定用户登录系统时的启动文件

env和printenv命令显示全局环境变量

```shell
# 设置全局环境变量
export 变量名=值
# 如果想要在所有脚本中可用，必须放到配置文件中，然后调用source命令更新环境变量
# 不然只能在当前进程中临时可用
# 取消环境变量
unset 变量名
```

